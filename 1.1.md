# 1.1 Spring Boot å¿«é€Ÿå…¥é–€

> **ç¬¬ä¸€ç« å°è®€**ï¼šæœ¬ç« å°‡å¸¶æ‚¨å¿«é€ŸæŒæ¡ Spring Boot çš„æ ¸å¿ƒæ¦‚å¿µå’Œé–‹ç™¼ç’°å¢ƒï¼Œç‚ºå¾ŒçºŒçš„ Spring AI æ•´åˆå­¸ç¿’å¥ å®šå …å¯¦åŸºç¤ã€‚

## ğŸ¯ å­¸ç¿’ç›®æ¨™

å®Œæˆæœ¬ç« å­¸ç¿’å¾Œï¼Œæ‚¨å°‡èƒ½å¤ ï¼š

- ğŸ¯ **ç†è§£ Spring Boot æ ¸å¿ƒåƒ¹å€¼**ï¼šæŒæ¡ Spring Boot çš„è¨­è¨ˆç†å¿µå’Œæ ¸å¿ƒå„ªå‹¢
- ğŸ¯ **å»ºç«‹é–‹ç™¼ç’°å¢ƒ**ï¼šä½¿ç”¨ STS4 å¿«é€Ÿå»ºç½®å°ˆæ¥­ç´šé–‹ç™¼ç’°å¢ƒ
- ğŸ¯ **å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ**ï¼šä½¿ç”¨ Spring Initializr å¿«é€Ÿå»ºç«‹å°ˆæ¡ˆ
- ğŸ¯ **æŒæ¡å°ˆæ¡ˆçµæ§‹**ï¼šç†è§£ Spring Boot å°ˆæ¡ˆçš„æ¨™æº–çµ„ç¹”æ–¹å¼
- ğŸ¯ **ç‚º Spring AI åšæº–å‚™**ï¼šå»ºç«‹é©åˆ AI æ‡‰ç”¨é–‹ç™¼çš„åŸºç¤æ¶æ§‹

---

## 1.1.1 ç‚ºä»€éº¼é¸æ“‡ Spring Bootï¼Ÿ

### Spring Boot çš„æ ¸å¿ƒåƒ¹å€¼

åœ¨ç¾ä»£ä¼æ¥­ç´š Java é–‹ç™¼ä¸­ï¼ŒSpring Boot å·²ç¶“æˆç‚ºä¸å¯æˆ–ç¼ºçš„æ ¸å¿ƒæ¡†æ¶ï¼Œç‰¹åˆ¥æ˜¯åœ¨ AI æ‡‰ç”¨é–‹ç™¼é ˜åŸŸã€‚

**å‚³çµ± Spring é–‹ç™¼çš„æŒ‘æˆ°**ï¼š
- ç¹ç‘£çš„ XML é…ç½®
- è¤‡é›œçš„ä¾è³´ç®¡ç†
- è€—æ™‚çš„ç’°å¢ƒè¨­å®š
- éƒ¨ç½²é…ç½®è¤‡é›œ

**Spring Boot çš„è§£æ±ºæ–¹æ¡ˆ**ï¼š
- âœ… **ç´„å®šå„ªæ–¼é…ç½®**ï¼šæ¸›å°‘ 90% çš„é…ç½®å·¥ä½œ
- âœ… **è‡ªå‹•é…ç½®**ï¼šæ™ºèƒ½åˆ¤æ–·å’Œé…ç½®æ‰€éœ€çµ„ä»¶
- âœ… **å…§åµŒä¼ºæœå™¨**ï¼šç„¡éœ€å¤–éƒ¨ä¼ºæœå™¨ï¼Œä¸€éµå•Ÿå‹•
- âœ… **ç”Ÿç”¢å°±ç·’**ï¼šå…§å»ºç›£æ§ã€å¥åº·æª¢æŸ¥ç­‰ä¼æ¥­ç´šåŠŸèƒ½
- âœ… **AI å‹å¥½**ï¼šå®Œç¾æ”¯æ´ Spring AI ç”Ÿæ…‹ç³»çµ±

### Spring Boot æ ¸å¿ƒç‰¹æ€§

```java
// å‚³çµ± Spring éœ€è¦å¤§é‡é…ç½®
// Spring Boot åªéœ€è¦ä¸€å€‹è¨»è§£
@SpringBootApplication
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

**æ ¸å¿ƒè¨­è¨ˆåŸå‰‡**ï¼š
1. **ç´„å®šå„ªæ–¼é…ç½®**ï¼šéµå¾ªæ¨™æº–ç´„å®šï¼Œæ¸›å°‘é…ç½®å·¥ä½œ
2. **é–‹ç®±å³ç”¨**ï¼šæä¾›é è¨­é…ç½®ï¼Œå¿«é€Ÿå•Ÿå‹•å°ˆæ¡ˆ
3. **ç„¡ç¨‹å¼ç¢¼ç”Ÿæˆ**ï¼šä¸ä¾è³´ç¨‹å¼ç¢¼ç”Ÿæˆï¼Œä¿æŒç¨‹å¼ç¢¼æ¸…æ™°
4. **ç„¡ XML é…ç½®**ï¼šä½¿ç”¨è¨»è§£å’Œ Java é…ç½®

---

## 1.1.2 å»ºç«‹é–‹ç™¼ç’°å¢ƒ

### ç‚ºä»€éº¼é¸æ“‡ STS4ï¼Ÿ

STS4 (Spring Tool Suite 4) æ˜¯å°ˆç‚º Spring é–‹ç™¼å„ªåŒ–çš„ IDEï¼Œç‰¹åˆ¥é©åˆ Spring Boot å’Œ Spring AI é–‹ç™¼ï¼š

**STS4 çš„å„ªå‹¢**ï¼š
- å…§å»º Spring Initializr æ”¯æ´
- æ™ºèƒ½ç¨‹å¼ç¢¼æç¤ºå’Œè‡ªå‹•å®Œæˆ
- å…§å»º Spring Boot é™¤éŒ¯å·¥å…·
- å®Œæ•´çš„ Spring ç”Ÿæ…‹ç³»çµ±æ”¯æ´
- ç‚º Spring AI é–‹ç™¼å„ªåŒ–

### ç’°å¢ƒéœ€æ±‚

| çµ„ä»¶ | ç‰ˆæœ¬è¦æ±‚ | èªªæ˜ |
|------|----------|------|
| **JDK** | 17 æˆ– 21 | Spring Boot 3.x æœ€ä½è¦æ±‚ |
| **STS4** | æœ€æ–°ç‰ˆæœ¬ | å…§å»º Spring Boot æ”¯æ´ |
| **Maven** | 3.6+ | å…§å»ºæ–¼ STS4 |
| **è¨˜æ†¶é«”** | 8GB+ | æ¨è–¦é…ç½® |

### å®‰è£æ­¥é©Ÿ

**1. ä¸‹è¼‰ä¸¦å®‰è£ JDK**
- è¨ªå• [Oracle JDK](https://www.oracle.com/java/technologies/downloads/) æˆ– [OpenJDK](https://openjdk.org/)
- ä¸‹è¼‰ JDK 17 æˆ– 21
- è¨­å®š JAVA_HOME ç’°å¢ƒè®Šæ•¸

**2. ä¸‹è¼‰ä¸¦å®‰è£ STS4**
- è¨ªå• [Spring Tools å®˜ç¶²](https://spring.io/tools)
- ä¸‹è¼‰é©åˆæ‚¨ä½œæ¥­ç³»çµ±çš„ç‰ˆæœ¬
- è§£å£“ç¸®ä¸¦å•Ÿå‹• STS4

---

## 1.1.3 å»ºç«‹ç¬¬ä¸€å€‹ Spring Boot å°ˆæ¡ˆ

### ä½¿ç”¨ STS4 å…§å»ºçš„ Spring Initializr

**æ­¥é©Ÿ 1ï¼šå»ºç«‹æ–°å°ˆæ¡ˆ**
1. é–‹å•Ÿ STS4
2. é¸æ“‡ `File` â†’ `New` â†’ `Spring Starter Project`
3. æˆ–ä½¿ç”¨å¿«æ·éµ `Ctrl+N`ï¼Œé¸æ“‡ `Spring Starter Project`

**æ­¥é©Ÿ 2ï¼šå°ˆæ¡ˆåŸºæœ¬è¨­å®š**
```
å°ˆæ¡ˆè¨­å®šï¼š
- Name: spring-boot-demo
- Group: com.example.demo
- Artifact: spring-boot-demo
- Package: com.example.demo
- Java Version: 17 æˆ– 21
- Packaging: Jar
- Spring Boot Version: 3.2.x (æœ€æ–°ç©©å®šç‰ˆ)
```

**æ­¥é©Ÿ 3ï¼šé¸æ“‡ä¾è³´**
```
åŸºç¤ä¾è³´ï¼š
â˜‘ Spring Web - å»ºç«‹ RESTful API
â˜‘ Spring Boot DevTools - é–‹ç™¼å·¥å…·
â˜‘ Lombok - ç°¡åŒ–ç¨‹å¼ç¢¼
â˜‘ Validation - è³‡æ–™é©—è­‰
```

**æ­¥é©Ÿ 4ï¼šå®Œæˆå»ºç«‹**
- é»æ“Š `Finish`
- STS4 æœƒè‡ªå‹•ä¸‹è¼‰ä¾è³´ä¸¦å»ºç«‹å°ˆæ¡ˆ

### å°ˆæ¡ˆçµæ§‹è§£æ

```
spring-boot-demo/
â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ com/example/demo/
â”‚       â””â”€â”€ DemoApplication.java     # ä¸»ç¨‹å¼å…¥å£
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yml              # é…ç½®æª”æ¡ˆ
â”‚   â””â”€â”€ static/                      # éœæ…‹è³‡æº
â”œâ”€â”€ src/test/java/                   # æ¸¬è©¦ç¨‹å¼ç¢¼
â”œâ”€â”€ pom.xml                          # Maven é…ç½®
â””â”€â”€ README.md                        # å°ˆæ¡ˆèªªæ˜
```

**æ ¸å¿ƒæª”æ¡ˆèªªæ˜**ï¼š

**1. DemoApplication.java**
```java
@SpringBootApplication
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

**2. pom.xml**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0">
    <modelVersion>4.0.0</modelVersion>
    
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.2.0</version>
        <relativePath/>
    </parent>
    
    <groupId>com.example.demo</groupId>
    <artifactId>spring-boot-demo</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>spring-boot-demo</name>
    
    <properties>
        <java.version>17</java.version>
    </properties>
    
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <scope>runtime</scope>
            <optional>true</optional>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>
```

---

## 1.1.4 ç¬¬ä¸€æ¬¡å•Ÿå‹•

### å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼

**æ–¹æ³•ä¸€ï¼šåœ¨ STS4 ä¸­å•Ÿå‹•**
1. å³éµé»æ“Š `DemoApplication.java`
2. é¸æ“‡ `Run As` â†’ `Spring Boot App`

**æ–¹æ³•äºŒï¼šä½¿ç”¨ Maven å‘½ä»¤**
```bash
# åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
mvn spring-boot:run
```

**æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Java å‘½ä»¤**
```bash
# å…ˆç·¨è­¯
mvn clean package

# åŸ·è¡Œ JAR æª”æ¡ˆ
java -jar target/spring-boot-demo-0.0.1-SNAPSHOT.jar
```

### é©—è­‰å•Ÿå‹•æˆåŠŸ

**æ§åˆ¶å°è¼¸å‡º**ï¼š
```
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2024-01-15 10:30:00.123  INFO 12345 --- [main] c.e.demo.DemoApplication
Started DemoApplication in 2.345 seconds (JVM running for 3.456)
```

**ç€è¦½å™¨æ¸¬è©¦**ï¼š
- é–‹å•Ÿç€è¦½å™¨
- è¨ªå• `http://localhost:8080`
- çœ‹åˆ° Whitelabel Error Page è¡¨ç¤ºå•Ÿå‹•æˆåŠŸï¼ˆå› ç‚ºé‚„æ²’æœ‰å®šç¾©ä»»ä½•ç«¯é»ï¼‰

---

## 1.1.5 ç‚º Spring AI åšæº–å‚™

### AI æ‡‰ç”¨çš„ç‰¹æ®Šéœ€æ±‚

åœ¨è¨­è¨ˆ Spring Boot æ‡‰ç”¨æ™‚ï¼Œæˆ‘å€‘éœ€è¦è€ƒæ…® Spring AI çš„ç‰¹æ®Šéœ€æ±‚ï¼š

**é…ç½®ç®¡ç†**ï¼š
```yaml
# application.yml - ç‚º AI æœå‹™é ç•™é…ç½®
spring:
  application:
    name: spring-boot-demo
  profiles:
    active: dev

# AI æœå‹™é…ç½®é ç•™
ai:
  openai:
    api-key: ${OPENAI_API_KEY:}
    model: gpt-3.5-turbo
  timeout: 30s
  max-tokens: 1000
```

**ä¾è³´æº–å‚™**ï¼š
```xml
<!-- ç‚ºæœªä¾†çš„ Spring AI æ•´åˆé ç•™ -->
<dependencies>
    <!-- åŸºç¤ Web æ”¯æ´ -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    
    <!-- è³‡æ–™é©—è­‰ -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-validation</artifactId>
    </dependency>
    
    <!-- JSON è™•ç† -->
    <dependency>
        <groupId>com.fasterxml.jackson.core</groupId>
        <artifactId>jackson-databind</artifactId>
    </dependency>
    
    <!-- é–‹ç™¼å·¥å…· -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-devtools</artifactId>
        <scope>runtime</scope>
        <optional>true</optional>
    </dependency>
</dependencies>
```

**æ¶æ§‹è¨­è¨ˆè€ƒé‡**ï¼š
```java
// ç‚º AI æœå‹™é ç•™çš„æ§åˆ¶å™¨çµæ§‹
@RestController
@RequestMapping("/api")
public class DemoController {
    
    @GetMapping("/health")
    public Map<String, String> health() {
        Map<String, String> status = new HashMap<>();
        status.put("status", "UP");
        status.put("timestamp", LocalDateTime.now().toString());
        return status;
    }
    
    // ç‚ºæœªä¾†çš„ AI ç«¯é»é ç•™
    @PostMapping("/ai/chat")
    public ResponseEntity<String> chat(@RequestBody String message) {
        // é ç•™çµ¦ Spring AI æ•´åˆ
        return ResponseEntity.ok("æº–å‚™æ•´åˆ Spring AI");
    }
}
```

### é–‹ç™¼æœ€ä½³å¯¦è¸

**1. å°ˆæ¡ˆçµæ§‹è¦åŠƒ**

```mermaid
graph TD
    A[src/main/java/com/example/demo/] --> B[DemoApplication.java]
    A --> C[controller/]
    A --> D[service/]
    A --> E[model/]
    A --> F[config/]
    A --> G[ai/]

    C -.-> C1[API æ§åˆ¶å™¨]
    D -.-> D1[æ¥­å‹™é‚è¼¯]
    E -.-> E1[è³‡æ–™æ¨¡å‹]
    F -.-> F1[é…ç½®é¡åˆ¥]
    G -.-> G1[AI æœå‹™ç›¸é—œï¼ˆé ç•™ï¼‰]

    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#f0f0f0
    style D fill:#f0f0f0
    style E fill:#f0f0f0
    style F fill:#f0f0f0
    style G fill:#f0f0f0
```

**2. é…ç½®æª”æ¡ˆçµ„ç¹”**
```
src/main/resources/
â”œâ”€â”€ application.yml              # ä¸»é…ç½®
â”œâ”€â”€ application-dev.yml          # é–‹ç™¼ç’°å¢ƒ
â”œâ”€â”€ application-prod.yml         # ç”Ÿç”¢ç’°å¢ƒ
â””â”€â”€ ai/                         # AI ç›¸é—œé…ç½®ï¼ˆé ç•™ï¼‰
```

**3. ç’°å¢ƒè®Šæ•¸ç®¡ç†**
```bash
# é–‹ç™¼ç’°å¢ƒè®Šæ•¸
export SPRING_PROFILES_ACTIVE=dev
export OPENAI_API_KEY=your-api-key
export LOG_LEVEL=DEBUG
```

---

## ğŸ“ æœ¬ç« é‡é»å›é¡§

1. **Spring Boot æ ¸å¿ƒåƒ¹å€¼**ï¼šç†è§£äº†ç´„å®šå„ªæ–¼é…ç½®çš„è¨­è¨ˆç†å¿µ
2. **é–‹ç™¼ç’°å¢ƒå»ºç½®**ï¼šæˆåŠŸå®‰è£ä¸¦é…ç½® STS4 é–‹ç™¼ç’°å¢ƒ
3. **å°ˆæ¡ˆå»ºç«‹**ï¼šæŒæ¡äº†ä½¿ç”¨ Spring Initializr å¿«é€Ÿå»ºç«‹å°ˆæ¡ˆ
4. **å°ˆæ¡ˆçµæ§‹**ï¼šäº†è§£äº† Spring Boot çš„æ¨™æº–å°ˆæ¡ˆçµ„ç¹”æ–¹å¼
5. **AI æ•´åˆæº–å‚™**ï¼šç‚ºå¾ŒçºŒ Spring AI å­¸ç¿’å¥ å®šäº†åŸºç¤æ¶æ§‹

### ä¸‹ä¸€æ­¥å­¸ç¿’æ–¹å‘

åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘å€‘å°‡å­¸ç¿’å°ˆæ¡ˆæ¶æ§‹èˆ‡é…ç½®ç®¡ç†ï¼Œæ·±å…¥äº†è§£å¦‚ä½•çµ„ç¹”å’Œé…ç½®ä¸€å€‹ç”Ÿç”¢ç´šçš„ Spring Boot æ‡‰ç”¨ã€‚

---

**åƒè€ƒè³‡æ–™ï¼š**
- [Spring Boot Official Guide](https://spring.io/guides/gs/spring-boot/)
- [Spring Tools 4 Documentation](https://github.com/spring-projects/sts4)
- [Spring Initializr](https://start.spring.io/)