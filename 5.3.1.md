# 5.3 é€é Spring AI æ•´åˆ Google Gemini 2.5 Flash Image (Nano Banana)

> **æœ¬ç« é‡é»**ï¼šå­¸ç¿’ä½¿ç”¨ Spring AI æ•´åˆ Google Gemini 2.5 Flash Imageï¼ˆä»£è™Ÿï¼šNano Bananaï¼‰åœ–ç‰‡ç”Ÿæˆå’Œç·¨è¼¯åŠŸèƒ½ï¼ŒæŒæ¡å…ˆé€²çš„åœ–ç‰‡ç”Ÿæˆèˆ‡ç·¨è¼¯æŠ€è¡“ï¼Œå»ºç«‹å®Œæ•´çš„ AI åœ–ç‰‡è™•ç†æ‡‰ç”¨ï¼Œæ¢ç´¢ Google æœ€æ–°åœ–ç‰‡ AI æ¨¡å‹çš„å¼·å¤§èƒ½åŠ›ã€‚

## ğŸ¯ å­¸ç¿’ç›®æ¨™

å®Œæˆæœ¬ç« å­¸ç¿’å¾Œï¼Œæ‚¨å°‡èƒ½å¤ ï¼š

- ğŸ¯ **ç†è§£ Gemini 2.5 Flash Image**ï¼šæŒæ¡ Google æœ€æ–°åœ–ç‰‡ AI æ¨¡å‹çš„æ ¸å¿ƒåŸç†å’Œå„ªå‹¢
- ğŸ¯ **é¸æ“‡åˆé©çš„åœ–ç‰‡æ¨¡å‹**ï¼šäº†è§£ Gemini 2.5 Flash Image èˆ‡å…¶ä»–åœ–ç‰‡ AI æ¨¡å‹çš„å·®ç•°
- ğŸ¯ **å¯¦ç¾åœ–ç‰‡ç”Ÿæˆèˆ‡ç·¨è¼¯**ï¼šå»ºç«‹å®Œæ•´çš„åœ–ç‰‡ç”Ÿæˆã€ç·¨è¼¯å’Œè™•ç† API ç³»çµ±
- ğŸ¯ **å„ªåŒ–ç·¨è¼¯å“è³ª**ï¼šæŒæ¡åœ–ç‰‡ç·¨è¼¯ä¸€è‡´æ€§å’Œå¤šè¼ªå°è©±ç·¨è¼¯æŠ€å·§
- ğŸ¯ **ä¼æ¥­ç´šæ‡‰ç”¨è¨­è¨ˆ**ï¼šå»ºç«‹å¯å•†ç”¨çš„åœ–ç‰‡ç”Ÿæˆèˆ‡ç·¨è¼¯æœå‹™æ¶æ§‹

---

## 5.3.1 Gemini 2.5 Flash Imageï¼šGoogle çš„åœ–ç‰‡ AI æ–°é‡Œç¨‹ç¢‘

### ä»€éº¼æ˜¯ Nano Bananaï¼Ÿ

![Gemini 2.5 Flash Image ç¤ºä¾‹](https://ithelp.ithome.com.tw/upload/images/20240810/20161290xVSyazJmHj.png)

**Nano Banana** æ˜¯ Google Gemini 2.5 Flash Image çš„ç¥ç§˜ä»£è™Ÿï¼Œåœ¨ 2025 å¹´ LMArena åœ–ç‰‡ç·¨è¼¯æ’è¡Œæ¦œä¸Šä»¥ç¥ç§˜èº«ä»½ç™»é ‚å¾Œï¼Œæ‰è¢« Google å®˜æ–¹æ­éœ²å…¶çœŸå¯¦èº«ä»½ã€‚é€™å€‹ã€Œé¦™è•‰ã€åœ–ç¤ºçš„æ¨¡å‹ä»¥å…¶å“è¶Šçš„**åœ–ç‰‡ç·¨è¼¯ä¸€è‡´æ€§**å’Œ**å¤šè¼ªå°è©±ç·¨è¼¯èƒ½åŠ›**éœ‡æ’¼æ¥­ç•Œï¼Œæˆç‚ºç›®å‰ä¸–ç•Œæ’åç¬¬ä¸€çš„åœ–ç‰‡ç·¨è¼¯æ¨¡å‹ã€‚

### Gemini 2.5 Flash Image çš„çªç ´æ€§å„ªå‹¢

**1. é©å‘½æ€§çš„åœ–ç‰‡ç·¨è¼¯ä¸€è‡´æ€§**
- ğŸ­ **è§’è‰²ä¿æŒæ€§**ï¼šç·¨è¼¯äººç‰©ç…§ç‰‡æ™‚ä¿æŒè§’è‰²ç‰¹å¾µçš„å®Œç¾ä¸€è‡´æ€§
- ğŸ‘¥ **ç´°ç¯€æ•æ„Ÿåº¦**ï¼šç‰¹åˆ¥é—œæ³¨äººè‡‰å’Œèº«é«”ç‰¹å¾µçš„å¾®å¦™å·®ç•°
- ğŸ”„ **å¤šè¼ªç·¨è¼¯**ï¼šæ”¯æ´é€£çºŒå¤šæ¬¡ç·¨è¼¯è€Œä¸å¤±å»åŸå§‹ç‰¹å¾µ
- ğŸ“š **è‡ªç„¶èªè¨€æ§åˆ¶**ï¼šä½¿ç”¨è‡ªç„¶èªè¨€é€²è¡Œç²¾ç¢ºçš„å±€éƒ¨ç·¨è¼¯

**2. å…ˆé€²çš„åœ–ç‰‡èåˆæŠ€è¡“**
- ğŸ–¼ï¸ **å¤šåœ–æ··åˆ**ï¼šå°‡å¤šå¼µåœ–ç‰‡ç„¡ç¸«èåˆæˆå–®ä¸€åœ–ç‰‡
- ğŸ“± **æ™ºèƒ½çµ„åˆ**ï¼šåˆ©ç”¨ Gemini çš„ä¸–ç•ŒçŸ¥è­˜é€²è¡Œæ™ºèƒ½åœ–ç‰‡çµ„åˆ
- ğŸ¨ **é¢¨æ ¼è½‰æ›**ï¼šå°‡ä¸€å¼µåœ–ç‰‡çš„é¢¨æ ¼æˆ–è³ªæ„Ÿæ‡‰ç”¨åˆ°å¦ä¸€å¼µåœ–ç‰‡
- ğŸ“Š **èªç¾©ç†è§£**ï¼šæ·±åº¦ç†è§£åœ–ç‰‡å…§å®¹å’Œç·¨è¼¯æ„åœ–

**3. ä¼æ¥­ç´šå®‰å…¨èˆ‡å“è³ª**
- ğŸ’° **SynthID æµ®æ°´å°**ï¼šæ‰€æœ‰ç”Ÿæˆå’Œç·¨è¼¯çš„åœ–ç‰‡éƒ½åŒ…å«ä¸å¯è¦‹çš„ AI è­˜åˆ¥æ¨™è¨˜
- ğŸ“– **LMArena èªè­‰**ï¼šåœ¨æ¬Šå¨è©•æ¸¬å¹³å°ç²å¾—ç¬¬ä¸€åçš„å„ªç•°è¡¨ç¾
- ğŸ® **Google ç”Ÿæ…‹æ•´åˆ**ï¼šèˆ‡ Google AI Studio å’Œ Vertex AI å®Œç¾æ•´åˆ
- ğŸ“º **å°ˆæ¥­ç´šå“è³ª**ï¼šæä¾›æœ€å…ˆé€²çš„åœ–ç‰‡ç”Ÿæˆå’Œç·¨è¼¯å“è³ª

---

## 5.3.2 Gemini 2.5 Flash Image vs å…¶ä»– AI æ¨¡å‹æ¯”è¼ƒ

### ä¸»è¦ AI åœ–ç‰‡æ¨¡å‹å°æ¯”

| æ¨¡å‹ | åœ–ç‰‡ç·¨è¼¯ | å¤šåœ–èåˆ | ç‰¹è‰² | æˆæœ¬ | æ¨è–¦åº¦ | é©ç”¨å ´æ™¯ |
|------|-----------|----------|------|------|--------|----------|
| **Gemini 2.5 Flash Image** | â­â­â­â­â­ | â­â­â­â­â­ | ç·¨è¼¯ä¸€è‡´æ€§ã€è‡ªç„¶èªè¨€æ§åˆ¶ | $0.039/åœ– | â­â­â­â­â­ | åœ–ç‰‡ç·¨è¼¯ã€å°ˆæ¥­è¨­è¨ˆ |
| **OpenAI DALL-E 3** | â­â­â­ | â­â­â­ | é«˜å“è³ªã€ç†è§£è¤‡é›œæŒ‡ä»¤ | $0.040-0.080 | â­â­â­â­ | å°ˆæ¥­è¨­è¨ˆã€å•†æ¥­ç”¨é€” |
| **Stable Diffusion** | â­â­ | â­â­ | é–‹æºã€å¯æœ¬åœ°éƒ¨ç½² | ä¸­ | â­â­â­ | è‡ªä¸»æ§åˆ¶ã€å®¢è£½åŒ– |
| **Midjourney** | â­â­â­ | â­â­ | è—è¡“æ€§å¼·ã€ç¤¾ç¾¤æ´»èº | ä¸­ | â­â­â­â­ | è—è¡“å‰µä½œã€æ¦‚å¿µè¨­è¨ˆ |
| **ZhiPu AI** | â­â­ | â­â­ | ä¸­æ–‡å‹å–„ã€ä¾¿å®œ | ä½ | â­â­â­ | å­¸ç¿’æ¸¬è©¦ã€ä¸­æ–‡å…§å®¹ |

### Gemini 2.5 Flash Image çš„æ ¸å¿ƒå„ªå‹¢

```
ğŸ† Gemini 2.5 Flash Image ç¨ç‰¹åŠŸèƒ½ï¼š

1. ç²¾æº–åœ–ç‰‡ç·¨è¼¯ç³»çµ±ï¼š
   - è‡ªç„¶èªè¨€æ§åˆ¶ï¼šä½¿ç”¨å°è©±æ–¹å¼é€²è¡Œç²¾ç¢ºçš„åœ–ç‰‡ç·¨è¼¯
   - å±€éƒ¨ä¿®æ”¹èƒ½åŠ›ï¼šé‡å°åœ–ç‰‡ç‰¹å®šå€åŸŸé€²è¡Œç²¾æº–ç·¨è¼¯
   - ç·¨è¼¯ä¸€è‡´æ€§ï¼šä¿æŒäººç‰©ç‰¹å¾µåœ¨ç·¨è¼¯éç¨‹ä¸­çš„å®Œç¾ä¸€è‡´æ€§

2. å¤šåœ–èåˆå¼•æ“ï¼š
   - æ™ºèƒ½æ··åˆï¼šå°‡å¤šå¼µåœ–ç‰‡çš„å…ƒç´ ç„¡ç¸«èåˆ
   - é¢¨æ ¼è½‰ç§»ï¼šå°‡ä¸€å¼µåœ–ç‰‡çš„é¢¨æ ¼æ‡‰ç”¨åˆ°å¦ä¸€å¼µåœ–ç‰‡
   - èªç¾©ç†è§£ï¼šåˆ©ç”¨ Gemini çš„ä¸–ç•ŒçŸ¥è­˜é€²è¡Œæ™ºèƒ½çµ„åˆ

3. ä¼æ¥­ç´šå®‰å…¨åŠŸèƒ½ï¼š
   - SynthID æµ®æ°´å°ï¼šæ‰€æœ‰ç”Ÿæˆåœ–ç‰‡åŒ…å«ä¸å¯è¦‹çš„ AI è­˜åˆ¥æ¨™è¨˜
   - Google ç”Ÿæ…‹æ•´åˆï¼šèˆ‡ Google AI Studio å’Œ Vertex AI å®Œç¾é…åˆ
   - å°ˆæ¥­ç´šå“è³ªï¼šLMArena æ’åç¬¬ä¸€çš„åœ–ç‰‡ç·¨è¼¯èƒ½åŠ›
```

---

## 5.3.3 Spring AI æ•´åˆ Gemini 2.5 Flash Image

### ç”³è«‹å’Œé…ç½®

**1. ç”³è«‹ OpenAI ç›¸å®¹ API Key**

ç”±æ–¼ Gemini 2.5 Flash Image é€éå¤šå€‹ç¬¬ä¸‰æ–¹å¹³å°æä¾› OpenAI ç›¸å®¹çš„ API æœå‹™ï¼Œä½ å¯ä»¥é¸æ“‡ä»¥ä¸‹ä»»ä¸€æ–¹å¼ï¼š
- **OpenRouter**: [https://openrouter.ai/](https://openrouter.ai/) - æä¾› Gemini 2.5 Flash Image çš„ OpenAI ç›¸å®¹ API
- **Fal.ai**: [https://fal.ai/](https://fal.ai/) - Google å®˜æ–¹åˆä½œå¤¥ä¼´ï¼Œæä¾› Gemini æ¨¡å‹å­˜å–
- **å…¶ä»– OpenAI ç›¸å®¹æœå‹™å•†**ï¼šæ”¯æ´ Gemini 2.5 Flash Image çš„ç¬¬ä¸‰æ–¹å¹³å°

**2. å¼•å…¥ä¾è³´**

åœ¨ `pom.xml` ä¸­æ·»åŠ  OpenAI æ•´åˆä¾è³´ï¼š

```xml
<!-- Spring AI BOM ç®¡ç†ç‰ˆæœ¬ -->
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.springframework.ai</groupId>
            <artifactId>spring-ai-bom</artifactId>
            <version>1.0.0</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>

<dependencies>
    <!-- Spring AI OpenAI Starter -->
    <dependency>
        <groupId>org.springframework.ai</groupId>
        <artifactId>spring-ai-openai-spring-boot-starter</artifactId>
    </dependency>
    
    <!-- Spring Boot Web -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    
    <!-- Spring Boot Validation -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-validation</artifactId>
    </dependency>
    
    <!-- Lombok -->
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
        <optional>true</optional>
    </dependency>
</dependencies>
```

**3. è¨­å®šå°ˆæ¡ˆåƒæ•¸**

åœ¨ `application.yml` ä¸­é…ç½®ï¼š

```yaml
spring:
  application:
    name: gemini-image-generator
  ai:
    openai:
      # ä½¿ç”¨æ”¯æ´ Gemini 2.5 Flash Image çš„ OpenAI ç›¸å®¹æœå‹™
      base-url: ${OPENAI_BASE_URL:https://openrouter.ai/api/v1}  # æˆ–å…¶ä»–æ”¯æ´çš„æœå‹™å•†
      api-key: ${OPENAI_API_KEY}  # ä½ çš„ API Key
      image:
        options:
          model: google/gemini-2.5-flash-image  # Gemini 2.5 Flash Image æ¨¡å‹åç¨±
          quality: hd
          size: 1024x1024
          response-format: url
          user: spring-ai-user

# Gemini åœ–ç‰‡æ¨¡å‹ç‰¹æ®Šé…ç½®
gemini:
  image:
    editing:
      max-input-images: 3        # å–®æ¬¡æœ€å¤šè¼¸å…¥åœ–ç‰‡æ•¸é‡
      support-formats: ["jpeg", "png", "webp", "heic", "heif"]
      max-file-size: 20MB        # å–®ä¸€åœ–ç‰‡æœ€å¤§å°ºå¯¸
    generation:
      include-synthid: true      # åŒ…å« SynthID æµ®æ°´å°
      safety-settings: medium    # å®‰å…¨è¨­å®šç­‰ç´š

# æ‡‰ç”¨ç¨‹å¼é…ç½®
app:
  image:
    processing:
      max-batch-size: 5
      default-timeout: 45s
      cache-enabled: true
      output-directory: ./gemini-images

# æ—¥èªŒé…ç½®
logging:
  level:
    org.springframework.ai: DEBUG
    com.example: DEBUG

# ç’°å¢ƒè®Šæ•¸è¨­å®šç¯„ä¾‹
# OPENAI_API_KEY=your-openrouter-api-key
# OPENAI_BASE_URL=https://openrouter.ai/api/v1
```

**é‡è¦è¨­å®šèªªæ˜ï¼š**

1. **OpenRouter è¨­å®š**ï¼š
   - åœ¨ OpenRouter ç”³è«‹å¸³è™Ÿä¸¦å–å¾— API Key
   - è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š`OPENAI_API_KEY=your-openrouter-key`
   - ä½¿ç”¨ OpenRouter çš„ base URLï¼š`https://openrouter.ai/api/v1`
   - æ¨¡å‹åç¨±ï¼š`google/gemini-2.5-flash-image`

2. **å…¶ä»–æ”¯æ´çš„æœå‹™å•†**ï¼š
   - **Fal.ai**: `https://fal.run/fal-ai/gemini-2-5-flash-image`
   - **å…¶ä»–æä¾›å•†**: è«‹æŸ¥é–±å„è‡ªçš„ API æ–‡æª”å–å¾—æ­£ç¢ºçš„ base URL å’Œæ¨¡å‹åç¨±

3. **æ³¨æ„äº‹é …**ï¼š
   - ä¸åŒæœå‹™å•†çš„æ¨¡å‹åç¨±å¯èƒ½ä¸åŒ
   - è©±è²»å’Œä½¿ç”¨é™åˆ¶è«‹åƒè€ƒå„æœå‹™å•†çš„å®šåƒ¹
   - ç¢ºä¿ä½¿ç”¨æ”¯æ´ Gemini 2.5 Flash Image çš„æœå‹™

---

## 5.3.4 ç°¡å–®ä½¿ç”¨ç¯„ä¾‹

### åŸºæœ¬åœ–ç‰‡ç”Ÿæˆ API

```java
package com.example.controller;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.ai.image.ImageModel;
import org.springframework.ai.image.ImagePrompt;
import org.springframework.ai.image.ImageResponse;
import org.springframework.ai.openai.OpenAiImageOptions;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/api/simple-image")
@RequiredArgsConstructor
@Slf4j
public class SimpleImageController {
    
    private final ImageModel imageModel;
    
    /**
     * ç°¡å–®çš„åœ–ç‰‡ç”Ÿæˆ API
     */
    @GetMapping("/generate")
    public ResponseEntity<String> generateImage(@RequestParam String prompt) {
        try {
            log.info("ç”Ÿæˆåœ–ç‰‡ï¼š{}", prompt);
            
            // ä½¿ç”¨ OpenAI ç›¸å®¹çš„ Gemini 2.5 Flash Image
            OpenAiImageOptions options = OpenAiImageOptions.builder()
                    .withModel("google/gemini-2.5-flash-image")
                    .withQuality("hd")
                    .withSize("1024x1024")
                    .withResponseFormat("url")
                    .build();
            
            ImagePrompt imagePrompt = new ImagePrompt(prompt, options);
            ImageResponse response = imageModel.call(imagePrompt);
            
            String imageUrl = response.getResult().getOutput().getUrl();
            
            // è¿”å› HTML é é¢å±•ç¤ºåœ–ç‰‡
            String html = String.format("""
                <!DOCTYPE html>
                <html lang="zh-TW">
                <head>
                    <meta charset="UTF-8">
                    <title>Gemini 2.5 Flash Image ç”Ÿæˆçµæœ</title>
                    <style>
                        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
                        img { max-width: 100%%; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
                        .info { margin: 20px 0; padding: 15px; background: #f5f5f5; border-radius: 5px; }
                    </style>
                </head>
                <body>
                    <h1>ğŸŒ Gemini 2.5 Flash Image (Nano Banana)</h1>
                    <div class="info">
                        <p><strong>æç¤ºè©:</strong> %s</p>
                    </div>
                    <img src="%s" alt="ç”Ÿæˆçš„åœ–ç‰‡">
                    <p><small>ç”± Spring AI + Gemini 2.5 Flash Image ç”Ÿæˆ</small></p>
                </body>
                </html>
                """, prompt, imageUrl);
            
            return ResponseEntity.ok()
                    .header("Content-Type", "text/html; charset=utf-8")
                    .body(html);
            
        } catch (Exception e) {
            log.error("åœ–ç‰‡ç”Ÿæˆå¤±æ•—", e);
            return ResponseEntity.badRequest()
                    .body("åœ–ç‰‡ç”Ÿæˆå¤±æ•—: " + e.getMessage());
        }
    }
}
```

### ä½¿ç”¨æ–¹å¼

å•Ÿå‹•æ‡‰ç”¨å¾Œï¼Œè¨ªå•ï¼š
```
http://localhost:8080/api/simple-image/generate?prompt=ä¸€éš»å¯æ„›çš„å°è²“åœ¨èŠ±åœ’è£¡ç©è€€
```

---

## 5.3.5 Gemini 2.5 Flash Image çš„é€²éšåŠŸèƒ½

### è§’è‰²ç®¡ç†æœå‹™

```java
package com.example.service;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.ai.image.ImageModel;
import org.springframework.ai.openai.OpenAiImageOptions;
import org.springframework.ai.image.ImagePrompt;
import org.springframework.ai.image.ImageResponse;
import org.springframework.stereotype.Service;

import java.util.HashMap;
import java.util.Map;
import java.util.UUID;

@Service
@RequiredArgsConstructor
@Slf4j
public class NanoBananaCharacterService {
    
    private final ImageModel geminiImageModel;
    private final Map<String, CharacterProfile> characterRegistry = new HashMap<>();
    
    /**
     * å‰µå»ºæ–°è§’è‰²
     * @param characterName è§’è‰²åç¨±
     * @param description è§’è‰²æè¿°
     * @param initialPrompt åˆå§‹ç”Ÿæˆæç¤ºè©
     * @return è§’è‰²ID
     */
    public String createCharacter(String characterName, String description, String initialPrompt) {
        try {
            log.info("å‰µå»ºæ–°è§’è‰²ï¼š{}", characterName);
            
            // ç”Ÿæˆè§’è‰²çš„åˆå§‹åœ–ç‰‡ï¼Œå»ºç«‹è§’è‰²DNA
            OpenAiImageOptions options = OpenAiImageOptions.builder()
                    .withModel("google/gemini-2.5-flash-image")
                    .withQuality("hd")
                    .withSize("1024x1024")
                    .withResponseFormat("url")
                    .build();
            
            String enhancedPrompt = enhanceCharacterPrompt(initialPrompt, description);
            ImagePrompt imagePrompt = new ImagePrompt(enhancedPrompt, options);
            
            ImageResponse response = geminiImageModel.call(imagePrompt);
            String imageUrl = response.getResult().getOutput().getUrl();
            
            // å‰µå»ºè§’è‰²æª”æ¡ˆ
            String characterId = UUID.randomUUID().toString();
            CharacterProfile profile = CharacterProfile.builder()
                    .characterId(characterId)
                    .characterName(characterName)
                    .description(description)
                    .dnaCode(response.getMetadata().get("character_dna"))  // Nano Banana ç‰¹æœ‰çš„è§’è‰²DNA
                    .initialImageUrl(imageUrl)
                    .createdAt(java.time.LocalDateTime.now())
                    .build();
            
            characterRegistry.put(characterId, profile);
            
            log.info("è§’è‰²å‰µå»ºæˆåŠŸï¼ŒIDï¼š{}ï¼ŒDNAï¼š{}", characterId, profile.getDnaCode());
            return characterId;
            
        } catch (Exception e) {
            log.error("è§’è‰²å‰µå»ºå¤±æ•—ï¼š{}", characterName, e);
            throw new RuntimeException("è§’è‰²å‰µå»ºå¤±æ•—ï¼š" + e.getMessage());
        }
    }
    
    /**
     * ä½¿ç”¨å·²å­˜åœ¨è§’è‰²ç”Ÿæˆåœ–ç‰‡
     * @param characterId è§’è‰²ID
     * @param scenario å ´æ™¯æè¿°
     * @param pose å§¿æ…‹æè¿°
     * @return åœ–ç‰‡URL
     */
    public String generateWithCharacter(String characterId, String scenario, String pose) {
        CharacterProfile character = characterRegistry.get(characterId);
        if (character == null) {
            throw new IllegalArgumentException("è§’è‰²ä¸å­˜åœ¨ï¼š" + characterId);
        }
        
        try {
            log.info("ä½¿ç”¨è§’è‰² {} ç”Ÿæˆåœ–ç‰‡ï¼š{}", character.getCharacterName(), scenario);
            
            OpenAiImageOptions options = OpenAiImageOptions.builder()
                    .withModel("google/gemini-2.5-flash-image")
                    .withQuality("hd")
                    .withSize("1024x1024")
                    .withResponseFormat("url")
                    .build();
            
            String prompt = buildCharacterScenePrompt(character, scenario, pose);
            ImagePrompt imagePrompt = new ImagePrompt(prompt, options);
            
            ImageResponse response = geminiImageModel.call(imagePrompt);
            String imageUrl = response.getResult().getOutput().getUrl();
            
            log.info("è§’è‰²åœ–ç‰‡ç”ŸæˆæˆåŠŸï¼š{}", imageUrl);
            return imageUrl;
            
        } catch (Exception e) {
            log.error("è§’è‰²åœ–ç‰‡ç”Ÿæˆå¤±æ•—", e);
            throw new RuntimeException("è§’è‰²åœ–ç‰‡ç”Ÿæˆå¤±æ•—ï¼š" + e.getMessage());
        }
    }
    
    /**
     * å»ºæ§‹è§’è‰²å ´æ™¯æç¤ºè©
     */
    private String buildCharacterScenePrompt(CharacterProfile character, String scenario, String pose) {
        return String.format(
            "Character: %s, %s. Scene: %s. Pose: %s. " +
            "Maintain character consistency, high quality, detailed, 4k resolution",
            character.getCharacterName(),
            character.getDescription(),
            scenario,
            pose
        );
    }
    
    /**
     * å¢å¼·è§’è‰²å‰µå»ºæç¤ºè©
     */
    private String enhanceCharacterPrompt(String prompt, String description) {
        return String.format(
            "%s, %s, character design, distinctive features, memorable appearance, " +
            "high quality, detailed character sheet, 4k resolution",
            prompt,
            description
        );
    }
    
    /**
     * ç²å–è§’è‰²è³‡è¨Š
     */
    public CharacterProfile getCharacter(String characterId) {
        return characterRegistry.get(characterId);
    }
    
    /**
     * åˆ—å‡ºæ‰€æœ‰ç·¨è¼¯å°è©±
     */
    public Map<String, EditSession> getAllEditSessions() {
        return new HashMap<>(editSessionRegistry);
    }
    
    /**
     * å¤šåœ–èåˆåŠŸèƒ½
     * @param imageUrls è¦èåˆçš„åœ–ç‰‡ URL åˆ—è¡¨
     * @param fusionDescription èåˆæè¿°
     * @return èåˆå¾Œçš„åœ–ç‰‡ URL
     */
    public String fuseMultipleImages(List<String> imageUrls, String fusionDescription) {
        if (imageUrls.size() > 3) {
            throw new IllegalArgumentException("Gemini 2.5 Flash Image æœ€å¤šæ”¯æ´ 3 å¼µåœ–ç‰‡èåˆ");
        }
        
        try {
            OpenAiImageOptions options = OpenAiImageOptions.builder()
                    .withModel("google/gemini-2.5-flash-image")
                    .withQuality("hd")
                    .withSize("1024x1024")
                    .withResponseFormat("url")
                    .build();
            
            String fusionPrompt = buildImageFusionPrompt(imageUrls, fusionDescription);
            ImagePrompt imagePrompt = new ImagePrompt(fusionPrompt, options);
            
            ImageResponse response = geminiImageModel.call(imagePrompt);
            return response.getResult().getOutput().getUrl();
            
        } catch (Exception e) {
            log.error("å¤šåœ–èåˆå¤±æ•—", e);
            throw new RuntimeException("å¤šåœ–èåˆå¤±æ•—ï¼š" + e.getMessage());
        }
    }
    
    /**
     * å»ºæ§‹å¤šåœ–èåˆæç¤ºè©
     */
    private String buildImageFusionPrompt(List<String> imageUrls, String description) {
        StringBuilder prompt = new StringBuilder();
        prompt.append("Fuse these images together: ");
        
        for (int i = 0; i < imageUrls.size(); i++) {
            prompt.append(String.format("Image %d: %s; ", i + 1, imageUrls.get(i)));
        }
        
        prompt.append(String.format(
            "Fusion instruction: %s. Create a cohesive, high-quality result that " +
            "combines elements from all images harmoniously.",
            description
        ));
        
        return prompt.toString();
    }
}
```

### æ•¸æ“šæ¨¡å‹å®šç¾©

```java
package com.example.model;

import lombok.Builder;
import lombok.Data;
import java.time.LocalDateTime;
import java.util.List;

@Data
@Builder
public class EditSession {
    private String sessionId;
    private String sessionName;
    private String baseImageUrl;
    private String currentImageUrl;
    private String description;
    private List<EditStep> editHistory;
    private LocalDateTime createdAt;
    private LocalDateTime lastModified;
}

@Data
@Builder
public class EditStep {
    private int stepNumber;
    private String description;
    private String resultImageUrl;
    private LocalDateTime timestamp;
    private Map<String, Object> metadata;
}
```

### å¤šåœ–èåˆæœå‹™

```java
package com.example.service;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.ai.image.ImageModel;
import org.springframework.ai.openai.OpenAiImageOptions;
import org.springframework.stereotype.Service;

import java.util.List;
import java.util.concurrent.CompletableFuture;
import java.util.stream.Collectors;

@Service
@RequiredArgsConstructor
@Slf4j
public class GeminiImageFusionService {
    
    private final ImageModel geminiImageModel;
    private final GeminiImageEditingService editingService;
    
    /**
     * å‰µå»ºå¤šåœ–èåˆå°ˆæ¡ˆ
     * @param fusionRequest èåˆè«‹æ±‚
     * @return èåˆçµæœ
     */
    public ImageFusionResult createImageFusion(ImageFusionRequest fusionRequest) {
        try {
            log.info("å‰µå»ºåœ–ç‰‡èåˆå°ˆæ¡ˆï¼š{}", fusionRequest.getProjectName());
            
            if (fusionRequest.getSourceImages().size() > 3) {
                throw new IllegalArgumentException("Gemini 2.5 Flash Image æœ€å¤šæ”¯æ´ 3 å¼µåœ–ç‰‡èåˆ");
            }
            
            // æº–å‚™èåˆé¸é …
            OpenAiImageOptions options = OpenAiImageOptions.builder()
                    .withModel("google/gemini-2.5-flash-image")
                    .withQuality("hd")
                    .withSize("1024x1024")
                    .withResponseFormat("url")
                    .build();
            
            // å»ºæ§‹èåˆæç¤ºè©
            String fusionPrompt = buildAdvancedFusionPrompt(fusionRequest);
            ImagePrompt imagePrompt = new ImagePrompt(fusionPrompt, options);
            
            // åŸ·è¡Œèåˆ
            ImageResponse response = geminiImageModel.call(imagePrompt);
            String fusedImageUrl = response.getResult().getOutput().getUrl();
            
            return ImageFusionResult.builder()
                    .projectName(fusionRequest.getProjectName())
                    .sourceImages(fusionRequest.getSourceImages())
                    .fusionStyle(fusionRequest.getFusionStyle())
                    .description(fusionRequest.getDescription())
                    .resultImageUrl(fusedImageUrl)
                    .success(true)
                    .timestamp(java.time.LocalDateTime.now())
                    .build();
            
        } catch (Exception e) {
            log.error("åœ–ç‰‡èåˆå¤±æ•—", e);
            throw new RuntimeException("åœ–ç‰‡èåˆå¤±æ•—ï¼š" + e.getMessage());
        }
    }
    
    /**
     * é¢¨æ ¼è½‰ç§»åŠŸèƒ½
     * @param sourceImageUrl åŸå§‹åœ–ç‰‡
     * @param styleImageUrl é¢¨æ ¼åƒè€ƒåœ–ç‰‡
     * @param transferDescription è½‰ç§»æè¿°
     * @return è½‰ç§»å¾Œçš„åœ–ç‰‡ URL
     */
    public String performStyleTransfer(String sourceImageUrl, String styleImageUrl, String transferDescription) {
        try {
            log.info("åŸ·è¡Œé¢¨æ ¼è½‰ç§»ï¼š{}", transferDescription);
            
            OpenAiImageOptions options = OpenAiImageOptions.builder()
                    .withModel("google/gemini-2.5-flash-image")
                    .withQuality("hd")
                    .withSize("1024x1024")
                    .withResponseFormat("url")
                    .build();
            
            String styleTransferPrompt = buildStyleTransferPrompt(
                sourceImageUrl, 
                styleImageUrl, 
                transferDescription
            );
            
            ImagePrompt imagePrompt = new ImagePrompt(styleTransferPrompt, options);
            ImageResponse response = geminiImageModel.call(imagePrompt);
            
            return response.getResult().getOutput().getUrl();
            
        } catch (Exception e) {
            log.error("é¢¨æ ¼è½‰ç§»å¤±æ•—", e);
            throw new RuntimeException("é¢¨æ ¼è½‰ç§»å¤±æ•—ï¼š" + e.getMessage());
        }
    }
    
    /**
     * å»ºæ§‹é€²éšèåˆæç¤ºè©
     */
    private String buildAdvancedFusionPrompt(ImageFusionRequest request) {
        StringBuilder prompt = new StringBuilder();
        
        prompt.append("Fuse these images with advanced composition: ");
        for (int i = 0; i < request.getSourceImages().size(); i++) {
            prompt.append(String.format("Image %d: %s; ", i + 1, request.getSourceImages().get(i)));
        }
        
        prompt.append(String.format(
            "Fusion style: %s. Description: %s. " +
            "Create a harmonious blend that combines the best elements from each image. " +
            "Maintain visual coherence, apply %s aesthetic, ensure high quality output.",
            request.getFusionStyle(),
            request.getDescription(),
            request.getFusionStyle()
        ));
        
        return prompt.toString();
    }
    
    /**
     * å»ºæ§‹é¢¨æ ¼è½‰ç§»æç¤ºè©
     */
    private String buildStyleTransferPrompt(String sourceUrl, String styleUrl, String description) {
        return String.format(
            "Apply style transfer: Take the content from this image: %s, " +
            "and apply the artistic style from this reference: %s. " +
            "Transfer instruction: %s. " +
            "Preserve the main content and composition while adopting the visual style, " +
            "colors, and artistic techniques from the style reference.",
            sourceUrl,
            styleUrl,
            description
        );
    }
    
    /**
     * æ‰¹æ¬¡åœ–ç‰‡è™•ç†
     * @param batchRequest æ‰¹æ¬¡è™•ç†è«‹æ±‚
     * @return æ‰¹æ¬¡è™•ç†çµæœ
     */
    public BatchProcessingResult processBatch(BatchImageRequest batchRequest) {
        try {
            log.info("æ‰¹æ¬¡è™•ç† {} å¼µåœ–ç‰‡", batchRequest.getImageRequests().size());
            
            List<CompletableFuture<BatchImageResult>> futures = batchRequest.getImageRequests().stream()
                    .map(this::processImageAsync)
                    .collect(Collectors.toList());
            
            CompletableFuture<Void> allFutures = CompletableFuture.allOf(
                    futures.toArray(new CompletableFuture[0])
            );
            
            List<BatchImageResult> results = allFutures.thenApply(v -> 
                    futures.stream()
                            .map(CompletableFuture::join)
                            .collect(Collectors.toList())
            ).join();
            
            return BatchProcessingResult.builder()
                    .batchId(UUID.randomUUID().toString())
                    .totalRequests(batchRequest.getImageRequests().size())
                    .successfulResults(results.stream().filter(r -> r.isSuccess()).collect(Collectors.toList()))
                    .failedResults(results.stream().filter(r -> !r.isSuccess()).collect(Collectors.toList()))
                    .timestamp(java.time.LocalDateTime.now())
                    .build();
            
        } catch (Exception e) {
            log.error("æ‰¹æ¬¡è™•ç†å¤±æ•—", e);
            throw new RuntimeException("æ‰¹æ¬¡è™•ç†å¤±æ•—ï¼š" + e.getMessage());
        }
    }
    
    /**
     * éåŒæ­¥è™•ç†å–®å¼µåœ–ç‰‡
     */
    private CompletableFuture<BatchImageResult> processImageAsync(ImageProcessingRequest request) {
        return CompletableFuture.supplyAsync(() -> {
            try {
                String resultUrl = switch (request.getProcessingType()) {
                    case EDIT -> editingService.continueEditing(request.getSessionId(), request.getInstruction());
                    case STYLE_TRANSFER -> performStyleTransfer(
                        request.getSourceImageUrl(), 
                        request.getStyleImageUrl(), 
                        request.getInstruction()
                    );
                    case FUSION -> editingService.fuseMultipleImages(
                        request.getSourceImageUrls(), 
                        request.getInstruction()
                    );
                    default -> throw new IllegalArgumentException("ä¸æ”¯æ´çš„è™•ç†é¡å‹: " + request.getProcessingType());
                };
                
                return BatchImageResult.builder()
                        .requestId(request.getRequestId())
                        .resultImageUrl(resultUrl)
                        .success(true)
                        .build();
                
            } catch (Exception e) {
                log.error("å–®å¼µåœ–ç‰‡è™•ç†å¤±æ•—: {}", request.getRequestId(), e);
                
                return BatchImageResult.builder()
                        .requestId(request.getRequestId())
                        .success(false)
                        .error(e.getMessage())
                        .build();
            }
        });
    }
}
```

---

## 5.3.6 å¯¦éš›æ‡‰ç”¨ï¼šåœ–ç‰‡ç·¨è¼¯èˆ‡èåˆç³»çµ±

### åœ–ç‰‡è™•ç† API æ§åˆ¶å™¨

```java
package com.example.controller;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.multipart.MultipartFile;

@RestController
@RequestMapping("/api/image-processing")
@RequiredArgsConstructor
@Slf4j
public class ImageProcessingController {
    
    private final GeminiImageEditingService editingService;
    private final GeminiImageFusionService fusionService;
    
    /**
     * å‰µå»ºåœ–ç‰‡ç·¨è¼¯å°è©±
     */
    @PostMapping("/edit-session")
    public ResponseEntity<EditSessionResponse> createEditSession(
            @RequestParam("image") MultipartFile imageFile,
            @RequestParam("sessionName") String sessionName,
            @RequestParam("description") String description) {
        
        try {
            log.info("å‰µå»ºç·¨è¼¯å°è©±ï¼š{}", sessionName);
            
            // ä¸Šå‚³åœ–ç‰‡ä¸¦å–å¾— URL
            String imageUrl = uploadImageAndGetUrl(imageFile);
            
            String sessionId = editingService.createEditSession(
                    sessionName,
                    imageUrl,
                    description
            );
            
            EditSessionResponse response = EditSessionResponse.builder()
                    .success(true)
                    .sessionId(sessionId)
                    .sessionName(sessionName)
                    .baseImageUrl(imageUrl)
                    .message("ç·¨è¼¯å°è©±å‰µå»ºæˆåŠŸ")
                    .timestamp(java.time.LocalDateTime.now())
                    .build();
            
            return ResponseEntity.ok(response);
            
        } catch (Exception e) {
            log.error("ç·¨è¼¯å°è©±å‰µå»ºå¤±æ•—", e);
            
            EditSessionResponse errorResponse = EditSessionResponse.builder()
                    .success(false)
                    .error(e.getMessage())
                    .build();
            
            return ResponseEntity.badRequest().body(errorResponse);
        }
    }
    
    /**
     * ç¹¼çºŒç·¨è¼¯åœ–ç‰‡
     */
    @PostMapping("/edit-session/{sessionId}/continue")
    public ResponseEntity<EditStepResponse> continueEditing(
            @PathVariable String sessionId,
            @RequestBody @Valid ContinueEditRequest request) {
        
        try {
            log.info("ç¹¼çºŒç·¨è¼¯å°è©±ï¼š{}", sessionId);
            
            String newImageUrl = editingService.continueEditing(
                    sessionId,
                    request.getEditInstruction()
            );
            
            EditSession session = editingService.getEditSession(sessionId);
            EditStep latestStep = session.getEditHistory().get(session.getEditHistory().size() - 1);
            
            EditStepResponse response = EditStepResponse.builder()
                    .success(true)
                    .sessionId(sessionId)
                    .stepNumber(latestStep.getStepNumber())
                    .instruction(request.getEditInstruction())
                    .resultImageUrl(newImageUrl)
                    .timestamp(java.time.LocalDateTime.now())
                    .build();
            
            return ResponseEntity.ok(response);
            
        } catch (Exception e) {
            log.error("ç¹¼çºŒç·¨è¼¯å¤±æ•—", e);
            
            EditStepResponse errorResponse = EditStepResponse.builder()
                    .success(false)
                    .error(e.getMessage())
                    .build();
            
            return ResponseEntity.badRequest().body(errorResponse);
        }
    }
    
    /**
     * å¤šåœ–èåˆ
     */
    @PostMapping("/fusion")
    public ResponseEntity<ImageFusionResponse> fuseImages(
            @RequestParam("images") List<MultipartFile> imageFiles,
            @RequestBody @Valid ImageFusionRequest request) {
        
        try {
            log.info("å¤šåœ–èåˆå°ˆæ¡ˆï¼š{}", request.getProjectName());
            
            if (imageFiles.size() > 3) {
                throw new IllegalArgumentException("æœ€å¤šæ”¯æ´ 3 å¼µåœ–ç‰‡èåˆ");
            }
            
            // ä¸Šå‚³æ‰€æœ‰åœ–ç‰‡ä¸¦å–å¾— URL
            List<String> imageUrls = imageFiles.stream()
                    .map(this::uploadImageAndGetUrl)
                    .collect(Collectors.toList());
            
            request.setSourceImages(imageUrls);
            
            ImageFusionResult result = fusionService.createImageFusion(request);
            
            ImageFusionResponse response = ImageFusionResponse.builder()
                    .success(true)
                    .projectName(result.getProjectName())
                    .fusionStyle(result.getFusionStyle())
                    .sourceImageUrls(result.getSourceImages())
                    .resultImageUrl(result.getResultImageUrl())
                    .timestamp(java.time.LocalDateTime.now())
                    .build();
            
            return ResponseEntity.ok(response);
            
        } catch (Exception e) {
            log.error("å¤šåœ–èåˆå¤±æ•—", e);
            
            ImageFusionResponse errorResponse = ImageFusionResponse.builder()
                    .success(false)
                    .error(e.getMessage())
                    .build();
            
            return ResponseEntity.badRequest().body(errorResponse);
        }
    }
    
    /**
     * é¢¨æ ¼è½‰ç§»
     */
    @PostMapping("/style-transfer")
    public ResponseEntity<StyleTransferResponse> performStyleTransfer(
            @RequestParam("sourceImage") MultipartFile sourceImage,
            @RequestParam("styleImage") MultipartFile styleImage,
            @RequestBody @Valid StyleTransferRequest request) {
        
        try {
            log.info("é¢¨æ ¼è½‰ç§»ï¼š{}", request.getDescription());
            
            String sourceImageUrl = uploadImageAndGetUrl(sourceImage);
            String styleImageUrl = uploadImageAndGetUrl(styleImage);
            
            String resultImageUrl = fusionService.performStyleTransfer(
                    sourceImageUrl,
                    styleImageUrl,
                    request.getDescription()
            );
            
            StyleTransferResponse response = StyleTransferResponse.builder()
                    .success(true)
                    .sourceImageUrl(sourceImageUrl)
                    .styleImageUrl(styleImageUrl)
                    .resultImageUrl(resultImageUrl)
                    .description(request.getDescription())
                    .timestamp(java.time.LocalDateTime.now())
                    .build();
            
            return ResponseEntity.ok(response);
            
        } catch (Exception e) {
            log.error("é¢¨æ ¼è½‰ç§»å¤±æ•—", e);
            
            StyleTransferResponse errorResponse = StyleTransferResponse.builder()
                    .success(false)
                    .error(e.getMessage())
                    .build();
            
            return ResponseEntity.badRequest().body(errorResponse);
        }
    }
    
    /**
     * ä¸Šå‚³åœ–ç‰‡ä¸¦å–å¾— URL
     */
    private String uploadImageAndGetUrl(MultipartFile imageFile) {
        // å¯¦ä½œåœ–ç‰‡ä¸Šå‚³é‚è¼¯ï¼Œé€™è£¡åªæ˜¯ç¤ºä¾‹
        try {
            // å„²å­˜åœ–ç‰‡åˆ°æœ¬åœ°æˆ–é›²ç«¯å„²å­˜
            String fileName = UUID.randomUUID().toString() + "_" + imageFile.getOriginalFilename();
            Path uploadPath = Paths.get("uploads", fileName);
            Files.createDirectories(uploadPath.getParent());
            Files.copy(imageFile.getInputStream(), uploadPath, StandardCopyOption.REPLACE_EXISTING);
            
            // è¿”å›å¯è¨ªå•çš„ URL
            return "http://localhost:8080/uploads/" + fileName;
            
        } catch (IOException e) {
            throw new RuntimeException("åœ–ç‰‡ä¸Šå‚³å¤±æ•—", e);
        }
    }
}
```

---

## ğŸ“ æœ¬ç« é‡é»å›é¡§

1. **Gemini 2.5 Flash Image æŠ€è¡“ç†è§£**ï¼šæŒæ¡äº† Google æœ€æ–°åœ–ç‰‡ AI æ¨¡å‹çš„æ ¸å¿ƒå„ªå‹¢
2. **åœ–ç‰‡ç·¨è¼¯ä¸€è‡´æ€§**ï¼šå­¸æœƒäº†å¦‚ä½•ä½¿ç”¨å¤šè¼ªå°è©±ç·¨è¼¯ä¿æŒè§’è‰²ç‰¹å¾µ
3. **å¤šåœ–èåˆåŠŸèƒ½**ï¼šå¯¦ç¾äº†é€²éšåœ–ç‰‡èåˆå’Œé¢¨æ ¼è½‰ç§»åŠŸèƒ½
4. **ä¼æ¥­ç´šåŠŸèƒ½**ï¼šå»ºç«‹äº†å®Œæ•´çš„åœ–ç‰‡è™•ç†å’Œç·¨è¼¯ç®¡ç†ç³»çµ±
5. **å•†æ¥­æ‡‰ç”¨å ´æ™¯**ï¼šæŒæ¡äº†åœ–ç‰‡ç·¨è¼¯ã€å…§å®¹å‰µä½œç­‰å¯¦éš›æ‡‰ç”¨

### Gemini 2.5 Flash Image æŠ€è¡“è¦é»ç¸½çµ

| æŠ€è¡“é» | é‡è¦æ€§ | å¯¦ç¾é›£åº¦ | ç¨ç‰¹å„ªå‹¢ |
|--------|--------|----------|----------|
| **åœ–ç‰‡ç·¨è¼¯ä¸€è‡´æ€§** | â­â­â­â­â­ | ä¸­ | ä¸–ç•Œç¬¬ä¸€ |
| **å¤šè¼ªå°è©±ç·¨è¼¯** | â­â­â­â­â­ | é«˜ | æ¥­ç•Œé ˜å…ˆ |
| **å¤šåœ–èåˆ** | â­â­â­â­ | é«˜ | å…ˆé€²æŠ€è¡“ |
| **è‡ªç„¶èªè¨€æ§åˆ¶** | â­â­â­â­ | ä¸­ | ç›´è¦ºæ˜“ç”¨ |
| **SynthID æ°´å°** | â­â­â­ | ä½ | å®‰å…¨ä¿éšœ |

### Gemini 2.5 Flash Image æœ€ä½³å¯¦è¸

1. **åœ–ç‰‡ç·¨è¼¯ç­–ç•¥**ï¼š
   - ä½¿ç”¨æ˜ç¢ºã€å…·é«”çš„ç·¨è¼¯æŒ‡ä»¤
   - å……åˆ†åˆ©ç”¨å¤šè¼ªå°è©±é€æ­¥ç²¾åŒ–çµæœ
   - ä¿å­˜ç·¨è¼¯æ­·ç¨‹ä»¥ä¾¿è¿½è¹¤å’Œå›æº¯

2. **å¤šåœ–èåˆæŠ€å·§**ï¼š
   - é¸æ“‡è¦–è¦ºé¢¨æ ¼ç›¸å®¹çš„åœ–ç‰‡é€²è¡Œèåˆ
   - æä¾›æ¸…æ™°çš„èåˆæ„åœ–å’ŒæœŸæœ›çµæœ
   - åˆ©ç”¨ Gemini çš„ä¸–ç•ŒçŸ¥è­˜é€²è¡Œæ™ºèƒ½èåˆ

3. **å•†æ¥­æ‡‰ç”¨å»ºè­°**ï¼š
   - å–„ç”¨ SynthID æ°´å°åŠŸèƒ½ä¿éšœå…§å®¹å®‰å…¨
   - å»ºç«‹åœ–ç‰‡è™•ç†æµç¨‹å’Œå“è³ªæ§åˆ¶æ¨™æº–
   - æ•´åˆ Google ç”Ÿæ…‹ç³»çµ±æé«˜å·¥ä½œæ•ˆç‡

### ä¸‹ä¸€æ­¥å­¸ç¿’æ–¹å‘

åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘å€‘å°‡å­¸ç¿’å¦‚ä½•å»ºç«‹èªéŸ³è½‰æ–‡å­—ç³»çµ±ï¼Œæ¢ç´¢å¤šåª’é«”å…§å®¹è™•ç†çš„å¦ä¸€å€‹é‡è¦é ˜åŸŸï¼Œèˆ‡ Gemini 2.5 Flash Image çš„è¦–è¦ºè™•ç†èƒ½åŠ›å½¢æˆå®Œæ•´çš„å¤šåª’é«” AI è§£æ±ºæ–¹æ¡ˆã€‚

---

**åƒè€ƒè³‡æ–™ï¼š**
- [Gemini 2.5 Flash Image å®˜æ–¹æ–‡æª”](https://ai.google.dev/gemini-api/docs/image-generation)
- [Google Developers Blog - Introducing Gemini 2.5 Flash Image](https://developers.googleblog.com/en/introducing-gemini-2-5-flash-image/)
- [Spring AI Image Generation Documentation](https://docs.spring.io/spring-ai/reference/api/imageclient.html)
- [OpenRouter API Documentation](https://openrouter.ai/docs)
- [OpenAI API Compatibility Guide](https://platform.openai.com/docs/api-reference)