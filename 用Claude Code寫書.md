Claude掛了,來寫寫最近整理書的心得吧
去年在鐵人賽連載了Spring AI，雖然最後沒得獎，不過我的文章人氣一直很高，華語地區直接搜尋Spring AI就能看到，也因此還是有書商找我出書
不過去年Spring AI還在Pre-release版本，一直到今年5月正式版本發行前都還有很多內容再調整
所以討論後決定等正式GA版本後再來整理程式範例以及書的內容
另外由於使用Spring Boot框架，程式也涉及到Spring MVC的部分，所以又在前半部加了Spring Boot入門跟Spring MVC的應用

這麼多的內容其實要重新整理也得花不少時間，加上整個改版後內容大概有8成要調整
凱文大叔就在想是不是也能讓AI來代勞?於是先把所有鐵人賽文章儲存成md文件，因為內容不少，只能一天存成一個檔，不然所有資料一起讓AI校稿context window馬上爆掉

另外因為Spring AI內容與去年有很大的出入，所以使用firecrawl將所有的Spring AI文章爬下來，firecrawl真的好用，還能直接轉成md格式，這就是AI校稿的知識庫來源，另外Spring官方也提供不少範例程式，這部分我就直接使用git clone將所有範例程式複製下來

接下來我先讓AI將每天的文章內容與官網資料進行比對，程式範例不對的部分更新成最新版，內容也比對文章進行調整，至於為什麼不使用RAG?因為官網爬下來的內容也是分成100個檔案左頁，透過Claude Code可以輕易的定位到相關文件，這樣可以確保內容不會缺失

當所有資料整理好後，我請Claude Code幫我將md文件轉成docx檔案，沒想到Claude Code竟透過python呼叫pandoc瞬間就轉好所有檔案，我也是到現在才發現有這種好用的工具，不過還是有點問題，一開始讓AI整理的資料實在太囉嗦了，除了內容廢話太多，範例更幾乎把完整程式碼寫進文章中，轉成docx後竟有一千頁左右

編輯看過後說這麼多內容可以弄成兩本書了XD

不過前半段並非在講Spring AI，拆成兩本書肯定要增加更多內容，所以接下來我就開始想辦法縮減內容了

接下來算是AI寫書的精華吧，我先讓AI分析每個章節內的程式內容，並請AI依據章節特性重新規劃程式專案，並且先寫成規格文件，這部很重要，因為既然是新書，AI肯定沒學過如果沒跟它講參考資料肯定會使用舊版的內容來開發，所以規格文件中必須強調使用的版本已參考那些範例，另外也會讓AI分析每個章節專案的數量，避免所有程式擠在一塊

等規格文件好了就可以開始讓AI開發程式，這邊就回到大家熟悉的Vibe Coding，有規格書跟範例還有官網資料，AI竟也可以自己寫自己Debug，雖然偶而會用到舊版語法或套件，不過經過多輪比對最終還是能完成測試（這部分也是AI自己測）．不過AI有時測不過會自己結束產生錯誤報告，這時又要再引導AI參考那些資料重新修改跟測試

等每個章節的程式專案弄好，就可以開始整理文章了，這裡我就跟Claude Code講這是要出書的內容，請依據原文章風格撰寫，並將程式碼範例只留下重點片段，並註明參考哪個實際程式專案，針對文章內容則多一點說明，最後流程圖的部分使用mermind格式繪製，這部份很重要，不然Claude Code會用ASCII畫流程圖

就這樣從第一章節做到第九章節，總共寫了14個程式專案，原文章的內容也大大縮減，最後一個步驟還是得將md文件轉為docx
這部分可以請Claude Code使用pandoc將文章整合進一個檔案內，且須要放上目錄，執行後就能看到所有內容整合進同一份docx中

另外還有個地方要注意通常出書都會將圖片和文章內容分開處理，所以我們必須將mermind流程圖的部分也轉出成圖片檔，這部分可以讓AI提供解決方案，他會幫你安裝mermind轉成圖片的工具，之後就能讓Claude Code寫腳本將圖片和文章分離
這裡有個小技巧，可以讓Claude Code在每個流程圖加上編號，轉成圖片時使用此編號存檔，這樣又能省下不少時間

之後如要改內容還是增加章節，甚至之後改版，只要重複做一次，人只要進行最後的校稿即可，寫書也能Vibe Writing