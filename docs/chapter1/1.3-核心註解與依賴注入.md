# 1.3 æ ¸å¿ƒè¨»è§£èˆ‡ä¾è³´æ³¨å…¥

> **å°æ‡‰ç¯„ä¾‹**: `chapter1-spring-boot-basics`
> **é›£åº¦**: â­â­â­â˜†â˜†

---

## ğŸ“š æœ¬ç« æ¦‚è¦

Spring Boot çš„è¨»è§£é«”ç³»æ˜¯å…¶ã€Œç´„å®šå„ªæ–¼é…ç½®ã€ç†å¿µçš„æ ¸å¿ƒå¯¦ç¾ã€‚é€šéè¨»è§£ï¼Œé–‹ç™¼è€…å¯ä»¥ç”¨æ¥µå°‘çš„ç¨‹å¼ç¢¼å¯¦ç¾è¤‡é›œçš„åŠŸèƒ½ã€‚æœ¬ç« å°‡æ·±å…¥è§£æ Spring Boot çš„æ ¸å¿ƒè¨»è§£é«”ç³»å’Œä¾è³´æ³¨å…¥æ©Ÿåˆ¶ï¼Œç‚º Spring AI æ‡‰ç”¨é–‹ç™¼å»ºç«‹å …å¯¦çš„æŠ€è¡“åŸºç¤ã€‚

**å­¸ç¿’ç›®æ¨™**:
- æŒæ¡ Spring Boot æ ¸å¿ƒè¨»è§£ï¼ˆ`@SpringBootApplication`, `@RestController`, `@Service` ç­‰ï¼‰
- ç†è§£ä¾è³´æ³¨å…¥çš„åŸç†å’Œæœ€ä½³å¯¦è¸
- å­¸æœƒä½¿ç”¨è¨»è§£å»ºç«‹åˆ†å±¤æ¶æ§‹
- ç†Ÿæ‚‰ Web é–‹ç™¼ç›¸é—œè¨»è§£
- æŒæ¡é…ç½®ç®¡ç†è¨»è§£çš„ä½¿ç”¨

---

## ğŸ¯ ç‚ºä»€éº¼éœ€è¦è¨»è§£ï¼Ÿ

### å‚³çµ± XML é…ç½®çš„ç—›é»

åœ¨ Spring Boot å‡ºç¾ä¹‹å‰ï¼Œé–‹ç™¼è€…éœ€è¦æ’°å¯«å¤§é‡ XML é…ç½®ï¼š

```xml
<!-- å‚³çµ± Spring é…ç½®æ–¹å¼ -->
<beans>
    <!-- çµ„ä»¶æƒæ -->
    <context:component-scan base-package="com.example"/>

    <!-- Bean å®šç¾© -->
    <bean id="userService" class="com.example.service.UserServiceImpl">
        <property name="userRepository" ref="userRepository"/>
    </bean>

    <bean id="userRepository" class="com.example.repository.UserRepository"/>

    <!-- æ›´å¤šç¹ç‘£é…ç½®... -->
</beans>
```

**å•é¡Œ**:
- âŒ é…ç½®ç¹ç‘£ä¸”æ˜“å‡ºéŒ¯
- âŒ XML èˆ‡ Java ç¨‹å¼ç¢¼åˆ†é›¢ï¼Œé›£ä»¥è¿½è¹¤
- âŒ é‡æ§‹å›°é›£
- âŒ ç·¨è­¯æœŸç„¡æ³•æª¢æŸ¥éŒ¯èª¤

### Spring Boot è¨»è§£çš„è§£æ±ºæ–¹æ¡ˆ

```java
// å°æ‡‰ç¯„ä¾‹: chapter1-spring-boot-basics/.../service/UserServiceImpl.java:15

// ç°¡æ½”çš„è¨»è§£é…ç½®
@Service
public class UserServiceImpl implements UserService {
    // Spring è‡ªå‹•ç®¡ç†å’Œæ³¨å…¥
}
```

**å„ªå‹¢**:
- âœ… ç¨‹å¼ç¢¼ç°¡æ½”ï¼Œæ˜“æ–¼ç†è§£
- âœ… ç·¨è­¯æœŸæª¢æŸ¥ï¼Œæ¸›å°‘éŒ¯èª¤
- âœ… é‡æ§‹å‹å–„
- âœ… IDE æ”¯æ´å®Œå–„

---

## ğŸ—ï¸ Spring Boot è¨»è§£é«”ç³»æ¦‚è¦½

### è¨»è§£åˆ†é¡æ¶æ§‹

```mermaid
graph TD
    A[Spring Boot è¨»è§£é«”ç³»] --> B[å•Ÿå‹•è¨»è§£]
    A --> C[çµ„ä»¶è¨»è§£]
    A --> D[ä¾è³´æ³¨å…¥è¨»è§£]
    A --> E[Web é–‹ç™¼è¨»è§£]
    A --> F[é…ç½®è¨»è§£]

    B --> B1[SpringBootApplication]
    C --> C1[Component]
    C --> C2[Service]
    C --> C3[RestController]
    C --> C4[Repository]

    D --> D1[Autowired]
    D --> D2[å»ºæ§‹å‡½å¼æ³¨å…¥]

    E --> E1[RequestMapping]
    E --> E2[GetMapping]
    E --> E3[PostMapping]
    E --> E4[PathVariable]

    F --> F1[Value]
    F --> F2[ConfigurationProperties]

    style A fill:#e1f5ff
    style B fill:#e8f5e9
    style C fill:#fff4e6
    style D fill:#f3e5f5
```

### è¨»è§£é‡è¦æ€§è©•ç´š

| é¡åˆ¥ | æ ¸å¿ƒè¨»è§£ | AI æ‡‰ç”¨é‡è¦æ€§ | å­¸ç¿’å„ªå…ˆç´š |
|------|----------|---------------|-----------|
| **å•Ÿå‹•è¨»è§£** | `@SpringBootApplication` | â­â­â­ | ğŸ”¥ å¿…å­¸ |
| **çµ„ä»¶è¨»è§£** | `@Service`, `@RestController` | â­â­â­ | ğŸ”¥ å¿…å­¸ |
| **ä¾è³´æ³¨å…¥** | å»ºæ§‹å‡½å¼æ³¨å…¥ | â­â­â­ | ğŸ”¥ å¿…å­¸ |
| **Web è¨»è§£** | `@GetMapping`, `@PostMapping` | â­â­â­ | ğŸ”¥ å¿…å­¸ |
| **é…ç½®è¨»è§£** | `@Value`, `@ConfigurationProperties` | â­â­ | ğŸ“– é€²éš |

---

## ğŸš€ æ ¸å¿ƒå•Ÿå‹•è¨»è§£

### @SpringBootApplication

é€™æ˜¯ Spring Boot æœ€é‡è¦çš„**çµ„åˆè¨»è§£**ï¼š

```java
// å°æ‡‰ç¯„ä¾‹: chapter1-spring-boot-basics/.../DemoApplication.java:13

@SpringBootApplication
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

**ç­‰åƒ¹æ–¼ä»¥ä¸‹ä¸‰å€‹è¨»è§£çš„çµ„åˆ**:

```mermaid
graph LR
    A[SpringBootApplication] --> B[SpringBootConfiguration]
    A --> C[EnableAutoConfiguration]
    A --> D[ComponentScan]

    B --> B1[ç­‰åŒæ–¼<br/>Configuration]
    C --> C1[å•Ÿç”¨è‡ªå‹•é…ç½®]
    D --> D1[å•Ÿç”¨çµ„ä»¶æƒæ]

    style A fill:#e1f5ff
    style B fill:#e8f5e9
    style C fill:#fff4e6
    style D fill:#f3e5f5
```

**æ ¸å¿ƒåŠŸèƒ½**:
1. **@SpringBootConfiguration**: æ¨™è¨˜ç‚ºé…ç½®é¡åˆ¥
2. **@EnableAutoConfiguration**: æ ¹æ“š classpath è‡ªå‹•é…ç½®
3. **@ComponentScan**: æƒæç•¶å‰å¥—ä»¶åŠå­å¥—ä»¶çš„çµ„ä»¶

---

## ğŸ“¦ çµ„ä»¶è¨»è§£

### @Component ç³»åˆ—è¨»è§£

```mermaid
graph TD
    A[Component<br/>é€šç”¨çµ„ä»¶] --> B[Service<br/>æ¥­å‹™é‚è¼¯å±¤]
    A --> C[Repository<br/>è³‡æ–™å­˜å–å±¤]
    A --> D[Controller<br/>MVC æ§åˆ¶å™¨]
    D --> E[RestController<br/>RESTful API]

    style A fill:#e1f5ff
    style B fill:#e8f5e9
    style C fill:#fff4e6
    style E fill:#f3e5f5
```

### 1. @Service - æ¥­å‹™é‚è¼¯å±¤

```java
// å°æ‡‰ç¯„ä¾‹: chapter1-spring-boot-basics/.../service/UserServiceImpl.java:15

@Service  // æ¨™è¨˜ç‚ºæ¥­å‹™é‚è¼¯å±¤çµ„ä»¶
public class UserServiceImpl implements UserService {

    // æ¥­å‹™é‚è¼¯å¯¦ä½œ
    @Override
    public List<UserResponse> findAllUsers() {
        return users.stream()
            .map(this::convertToResponse)
            .collect(Collectors.toList());
    }

    @Override
    public UserResponse createUser(CreateUserRequest request) {
        User user = new User(
            request.getName(),
            request.getEmail(),
            request.getPassword()
        );
        user.setId(nextId++);
        users.add(user);
        return convertToResponse(user);
    }
}
```

**ä½¿ç”¨å ´æ™¯**:
- âœ… æ¥­å‹™é‚è¼¯è™•ç†
- âœ… äº‹å‹™ç®¡ç†
- âœ… è³‡æ–™è½‰æ›ï¼ˆEntity â†” DTOï¼‰
- âœ… æ¥­å‹™è¦å‰‡é©—è­‰

### 2. @RestController - API æ§åˆ¶å™¨

```java
// å°æ‡‰ç¯„ä¾‹: chapter1-spring-boot-basics/.../controller/UserController.java:17

@RestController  // @Controller + @ResponseBody çš„çµ„åˆ
@RequestMapping("/api/users")
public class UserController {

    private final UserService userService;

    // å»ºæ§‹å‡½å¼æ³¨å…¥
    public UserController(UserService userService) {
        this.userService = userService;
    }

    @GetMapping
    public ResponseEntity<List<UserResponse>> getAllUsers() {
        return ResponseEntity.ok(userService.findAllUsers());
    }

    @PostMapping
    public ResponseEntity<UserResponse> createUser(
            @Valid @RequestBody CreateUserRequest request) {
        UserResponse user = userService.createUser(request);
        return ResponseEntity.status(HttpStatus.CREATED).body(user);
    }
}
```

**@RestController vs @Controller**:

| ç‰¹æ€§ | @RestController | @Controller |
|------|----------------|-------------|
| **ç”¨é€”** | RESTful API | MVC è¦–åœ– |
| **å›å‚³é¡å‹** | è‡ªå‹•åºåˆ—åŒ–ç‚º JSON | è¦–åœ–åç¨± |
| **ç­‰åƒ¹æ–¼** | `@Controller` + `@ResponseBody` | åƒ… `@Controller` |
| **é©ç”¨å ´æ™¯** | API é–‹ç™¼ | å‚³çµ± Web æ‡‰ç”¨ |

### 3. @Repository - è³‡æ–™å­˜å–å±¤

```java
@Repository
public interface UserRepository extends JpaRepository<User, Long> {

    // Spring Data JPA è‡ªå‹•å¯¦ä½œ
    Optional<User> findByEmail(String email);

    List<User> findByNameContaining(String keyword);
}
```

**ç‰¹é»**:
- âœ… è‡ªå‹•è™•ç†è³‡æ–™åº«ç•°å¸¸è½‰æ›
- âœ… èˆ‡ Spring Data JPA å®Œç¾æ•´åˆ
- âœ… æ”¯æ´äº‹å‹™ç®¡ç†

---

## ğŸ”Œ ä¾è³´æ³¨å…¥è©³è§£

### ç‚ºä»€éº¼éœ€è¦ä¾è³´æ³¨å…¥ï¼Ÿ

**å•é¡Œï¼šæ²’æœ‰ä¾è³´æ³¨å…¥çš„ç¨‹å¼ç¢¼**

```java
// âŒ ç·Šå¯†è€¦åˆï¼Œé›£ä»¥æ¸¬è©¦å’Œç¶­è­·
public class UserController {

    // ç¡¬ç·¨ç¢¼ä¾è³´
    private UserService userService = new UserServiceImpl();

    public List<User> getUsers() {
        return userService.findAllUsers();
    }
}
```

**å•é¡Œ**:
- âŒ ç·Šå¯†è€¦åˆï¼šController ç›´æ¥ä¾è³´å…·é«”å¯¦ä½œ
- âŒ é›£ä»¥æ¸¬è©¦ï¼šç„¡æ³•æ›¿æ›ç‚º Mock ç‰©ä»¶
- âŒ é›£ä»¥æ“´å±•ï¼šæ›´æ›å¯¦ä½œéœ€ä¿®æ”¹ç¨‹å¼ç¢¼
- âŒ ç„¡æ³•ç®¡ç†ç”Ÿå‘½é€±æœŸï¼šæ‰‹å‹•å»ºç«‹ç‰©ä»¶

**è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨ä¾è³´æ³¨å…¥**

```java
// å°æ‡‰ç¯„ä¾‹: chapter1-spring-boot-basics/.../controller/UserController.java:17

// âœ… é¬†æ•£è€¦åˆï¼Œæ˜“æ–¼æ¸¬è©¦å’Œç¶­è­·
@RestController
public class UserController {

    private final UserService userService;

    // Spring è‡ªå‹•æ³¨å…¥ä¾è³´
    public UserController(UserService userService) {
        this.userService = userService;
    }
}
```

**å„ªå‹¢**:
- âœ… é¬†æ•£è€¦åˆï¼šä¾è³´æŠ½è±¡è€Œéå¯¦ä½œ
- âœ… æ˜“æ–¼æ¸¬è©¦ï¼šå¯æ³¨å…¥ Mock ç‰©ä»¶
- âœ… æ˜“æ–¼æ“´å±•ï¼šæ›´æ›å¯¦ä½œç„¡éœ€ä¿®æ”¹ç¨‹å¼ç¢¼
- âœ… ç”Ÿå‘½é€±æœŸç®¡ç†ï¼šSpring å®¹å™¨çµ±ä¸€ç®¡ç†

### ä¸‰ç¨®ä¾è³´æ³¨å…¥æ–¹å¼

```mermaid
graph TB
    A[ä¾è³´æ³¨å…¥æ–¹å¼] --> B[å»ºæ§‹å‡½å¼æ³¨å…¥<br/>æ¨è–¦ â­â­â­]
    A --> C[Setter æ³¨å…¥<br/>å¯é¸ä¾è³´]
    A --> D[æ¬„ä½æ³¨å…¥<br/>ä¸æ¨è–¦]

    B --> B1[å„ªé»]
    B --> B2[ä¸å¯è®Š<br/>å¿…è¦ä¾è³´<br/>ä¾¿æ–¼æ¸¬è©¦]

    C --> C1[å„ªé»]
    C --> C2[å¯è®Š<br/>å¯é¸ä¾è³´<br/>éˆæ´»é…ç½®]

    D --> D1[ç¼ºé»]
    D --> D2[éš±è—ä¾è³´<br/>é›£ä»¥æ¸¬è©¦<br/>å®¹æ˜“å‡ºéŒ¯]

    style B fill:#e8f5e9
    style B1 fill:#e8f5e9
    style B2 fill:#e8f5e9
    style C fill:#fff4e6
    style D fill:#ffebee
    style D1 fill:#ffebee
    style D2 fill:#ffebee
```

**1. å»ºæ§‹å‡½å¼æ³¨å…¥ï¼ˆæœ€ä½³å¯¦è¸ï¼‰**

```java
@RestController
public class UserController {

    // final é—œéµå­—ç¢ºä¿ä¸å¯è®Š
    private final UserService userService;
    private final EmailService emailService;

    // Spring 4.3+ å–®ä¸€å»ºæ§‹å‡½å¼å¯çœç•¥ @Autowired
    public UserController(UserService userService,
                         EmailService emailService) {
        this.userService = userService;
        this.emailService = emailService;
    }
}
```

**å„ªé»**:
- âœ… ä¾è³´æ˜ç¢ºï¼Œæ˜“æ–¼ç†è§£
- âœ… æ”¯æ´ `final`ï¼Œç¢ºä¿ä¸å¯è®Šæ€§
- âœ… ä¾¿æ–¼å–®å…ƒæ¸¬è©¦
- âœ… é¿å…å¾ªç’°ä¾è³´
- âœ… Spring 4.3+ å¯çœç•¥ `@Autowired`

**2. Setter æ³¨å…¥ï¼ˆå¯é¸ä¾è³´ï¼‰**

```java
@Service
public class NotificationService {

    private EmailService emailService;

    @Autowired(required = false)  // å¯é¸ä¾è³´
    public void setEmailService(EmailService emailService) {
        this.emailService = emailService;
    }

    public void sendNotification(String message) {
        if (emailService != null) {
            emailService.send(message);
        }
    }
}
```

**ä½¿ç”¨å ´æ™¯**:
- å¯é¸çš„ä¾è³´
- éœ€è¦åœ¨ç‰©ä»¶å»ºç«‹å¾Œè¨­å®šçš„ä¾è³´

**3. æ¬„ä½æ³¨å…¥ï¼ˆä¸æ¨è–¦ï¼‰**

```java
@RestController
public class UserController {

    @Autowired  // âŒ ä¸æ¨è–¦ï¼šé›£ä»¥æ¸¬è©¦
    private UserService userService;
}
```

**å•é¡Œ**:
- âŒ ç„¡æ³•ä½¿ç”¨ `final`
- âŒ é›£ä»¥é€²è¡Œå–®å…ƒæ¸¬è©¦
- âŒ éš±è—ä¾è³´é—œä¿‚
- âŒ å®¹æ˜“é€ æˆå¾ªç’°ä¾è³´

---

## ğŸŒ Web é–‹ç™¼æ ¸å¿ƒè¨»è§£

### HTTP æ–¹æ³•è¨»è§£

```mermaid
graph LR
    A[RequestMapping<br/>é€šç”¨æ˜ å°„] --> B[GetMapping<br/>æŸ¥è©¢]
    A --> C[PostMapping<br/>å»ºç«‹]
    A --> D[PutMapping<br/>æ›´æ–°]
    A --> E[DeleteMapping<br/>åˆªé™¤]
    A --> F[PatchMapping<br/>éƒ¨åˆ†æ›´æ–°]

    style A fill:#e1f5ff
    style B fill:#e8f5e9
    style C fill:#fff4e6
    style D fill:#ffe0b2
    style E fill:#ffebee
```

**å®Œæ•´çš„ CRUD æ“ä½œç¯„ä¾‹**:

```java
// å°æ‡‰ç¯„ä¾‹: chapter1-spring-boot-basics/.../controller/UserController.java:17

@RestController
@RequestMapping("/api/users")
public class UserController {

    private final UserService userService;

    public UserController(UserService userService) {
        this.userService = userService;
    }

    // GET - ç²å–æ‰€æœ‰ä½¿ç”¨è€…
    @GetMapping
    public ResponseEntity<List<UserResponse>> getAllUsers() {
        return ResponseEntity.ok(userService.findAllUsers());
    }

    // GET - æ ¹æ“š ID ç²å–ä½¿ç”¨è€…
    @GetMapping("/{id}")
    public ResponseEntity<UserResponse> getUserById(@PathVariable Long id) {
        UserResponse user = userService.findUserById(id);
        return user != null
            ? ResponseEntity.ok(user)
            : ResponseEntity.notFound().build();
    }

    // POST - å»ºç«‹æ–°ä½¿ç”¨è€…
    @PostMapping
    public ResponseEntity<UserResponse> createUser(
            @Valid @RequestBody CreateUserRequest request) {
        UserResponse user = userService.createUser(request);
        return ResponseEntity.status(HttpStatus.CREATED).body(user);
    }

    // PUT - æ›´æ–°ä½¿ç”¨è€…
    @PutMapping("/{id}")
    public ResponseEntity<UserResponse> updateUser(
            @PathVariable Long id,
            @Valid @RequestBody CreateUserRequest request) {
        UserResponse user = userService.updateUser(id, request);
        return user != null
            ? ResponseEntity.ok(user)
            : ResponseEntity.notFound().build();
    }

    // DELETE - åˆªé™¤ä½¿ç”¨è€…
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteUser(@PathVariable Long id) {
        userService.deleteUser(id);
        return ResponseEntity.noContent().build();
    }
}
```

### åƒæ•¸ç¶å®šè¨»è§£

```mermaid
graph TD
    A[åƒæ•¸ç¶å®šè¨»è§£] --> B[PathVariable<br/>è·¯å¾‘è®Šæ•¸]
    A --> C[RequestParam<br/>æŸ¥è©¢åƒæ•¸]
    A --> D[RequestBody<br/>è«‹æ±‚é«”]
    A --> E[RequestHeader<br/>è«‹æ±‚æ¨™é ­]

    B --> B1[ç¯„ä¾‹: /users/123<br/>å–å¾— id=123]
    C --> C1[ç¯„ä¾‹: /users?name=John<br/>å–å¾— name=John]
    D --> D1[JSON è«‹æ±‚é«”<br/>è½‰ç‚º Java ç‰©ä»¶]
    E --> E1[Authorization: token<br/>å–å¾— token]

    style A fill:#e1f5ff
    style B fill:#e8f5e9
    style C fill:#fff4e6
    style D fill:#f3e5f5
```

**å®Œæ•´ç¯„ä¾‹**:

```java
@RestController
@RequestMapping("/api/search")
public class SearchController {

    private final UserService userService;

    public SearchController(UserService userService) {
        this.userService = userService;
    }

    // @PathVariable - è·¯å¾‘è®Šæ•¸
    @GetMapping("/users/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        return ResponseEntity.ok(userService.findById(id));
    }

    // @RequestParam - æŸ¥è©¢åƒæ•¸
    @GetMapping("/users")
    public ResponseEntity<List<User>> searchUsers(
            @RequestParam(required = false) String name,
            @RequestParam(defaultValue = "0") int page,
            @RequestParam(defaultValue = "10") int size) {
        return ResponseEntity.ok(
            userService.search(name, page, size)
        );
    }

    // @RequestBody - è«‹æ±‚é«”
    @PostMapping("/users")
    public ResponseEntity<User> createUser(
            @Valid @RequestBody CreateUserRequest request) {
        return ResponseEntity.ok(userService.createUser(request));
    }

    // @RequestHeader - è«‹æ±‚æ¨™é ­
    @GetMapping("/profile")
    public ResponseEntity<User> getCurrentUser(
            @RequestHeader("Authorization") String token) {
        return ResponseEntity.ok(userService.findByToken(token));
    }
}
```

---

## âš™ï¸ é…ç½®ç›¸é—œè¨»è§£

### @Value - å±¬æ€§æ³¨å…¥

```java
@Service
public class ConfigService {

    // æ³¨å…¥é…ç½®å±¬æ€§ï¼Œæ”¯æ´é è¨­å€¼
    @Value("${app.name:Default App}")
    private String appName;

    @Value("${app.version:1.0.0}")
    private String appVersion;

    @Value("${app.max-users:100}")
    private int maxUsers;

    public String getAppInfo() {
        return String.format(
            "%s v%s (Max Users: %d)",
            appName, appVersion, maxUsers
        );
    }
}
```

### @ConfigurationProperties - é¡å‹å®‰å…¨é…ç½®

```java
@ConfigurationProperties(prefix = "app")
@Component
public class AppProperties {

    private String name = "Default App";
    private String version = "1.0.0";
    private int maxUsers = 100;
    private Database database = new Database();

    // Getters and Setters...

    public static class Database {
        private String url;
        private String username;
        private String password;

        // Getters and Setters...
    }
}
```

**å°æ‡‰çš„ application.yml**:
```yaml
app:
  name: Spring Boot Demo
  version: 2.0.0
  max-users: 500
  database:
    url: jdbc:mysql://localhost:3306/demo
    username: demo_user
    password: demo_pass
```

**@Value vs @ConfigurationProperties**:

| ç‰¹æ€§ | @Value | @ConfigurationProperties |
|------|--------|--------------------------|
| **ä½¿ç”¨æ–¹å¼** | å–®ä¸€å±¬æ€§æ³¨å…¥ | æ‰¹é‡å±¬æ€§ç¶å®š |
| **é¡å‹å®‰å…¨** | å¦ | æ˜¯ |
| **æ”¯æ´åµŒå¥—** | å¦ | æ˜¯ |
| **é©—è­‰æ”¯æ´** | æœ‰é™ | å®Œæ•´æ”¯æ´ `@Validated` |
| **IDE æç¤º** | ç„¡ | æœ‰ï¼ˆéœ€é…ç½®ï¼‰ |
| **é©ç”¨å ´æ™¯** | ç°¡å–®é…ç½® | è¤‡é›œé…ç½®çµæ§‹ |

---

## ğŸ¤– ç‚º Spring AI åšæº–å‚™

### AI æœå‹™çš„è¨»è§£æ¨¡å¼

```java
// AI é…ç½®é¡åˆ¥
@ConfigurationProperties(prefix = "ai")
@Component
public class AIProperties {

    private OpenAI openai = new OpenAI();

    public static class OpenAI {
        private String apiKey;
        private String model = "gpt-3.5-turbo";
        private int maxTokens = 1000;
        private double temperature = 0.7;

        // Getters and Setters...
    }
}

// AI æœå‹™å±¤
@Service
public class AIService {

    private final AIProperties aiProperties;

    public AIService(AIProperties aiProperties) {
        this.aiProperties = aiProperties;
    }

    public String chat(String message) {
        // é ç•™çµ¦ Spring AI æ•´åˆ
        String model = aiProperties.getOpenai().getModel();
        return String.format(
            "AI Response (Model: %s): %s",
            model, message
        );
    }
}

// AI æ§åˆ¶å™¨
@RestController
@RequestMapping("/api/ai")
public class AIController {

    private final AIService aiService;

    public AIController(AIService aiService) {
        this.aiService = aiService;
    }

    @PostMapping("/chat")
    public ResponseEntity<String> chat(
            @RequestBody ChatRequest request) {
        String response = aiService.chat(request.getMessage());
        return ResponseEntity.ok(response);
    }
}
```

---

## ğŸ“ æœ¬ç« é‡é»å›é¡§

### æ ¸å¿ƒè¨»è§£æŒæ¡
1. **@SpringBootApplication** - Spring Boot æ‡‰ç”¨çš„å…¥å£
2. **@Service** - æ¥­å‹™é‚è¼¯å±¤çµ„ä»¶
3. **@RestController** - RESTful API æ§åˆ¶å™¨
4. **å»ºæ§‹å‡½å¼æ³¨å…¥** - æœ€ä½³çš„ä¾è³´æ³¨å…¥æ–¹å¼
5. **@GetMapping/@PostMapping** - HTTP æ–¹æ³•æ˜ å°„

### æœ€ä½³å¯¦è¸
- âœ… å„ªå…ˆä½¿ç”¨å»ºæ§‹å‡½å¼æ³¨å…¥
- âœ… ä½¿ç”¨ `final` ç¢ºä¿ä¾è³´ä¸å¯è®Š
- âœ… ä½¿ç”¨ `@ConfigurationProperties` ç®¡ç†è¤‡é›œé…ç½®
- âœ… é©ç•¶ä½¿ç”¨ `@Valid` é€²è¡Œè³‡æ–™é©—è­‰
- âœ… ä¿æŒ Controller å±¤ç°¡æ½”ï¼Œæ¥­å‹™é‚è¼¯æ”¾åœ¨ Service å±¤

### é¿å…çš„é™·é˜±
- âŒ é¿å…ä½¿ç”¨æ¬„ä½æ³¨å…¥ `@Autowired`
- âŒ é¿å…åœ¨ Controller ä¸­è™•ç†æ¥­å‹™é‚è¼¯
- âŒ é¿å…å¾ªç’°ä¾è³´ï¼ˆä½¿ç”¨å»ºæ§‹å‡½å¼æ³¨å…¥å¯é¿å…ï¼‰
- âŒ é¿å…éåº¦ä½¿ç”¨ `@Value`ï¼ˆè¤‡é›œé…ç½®ç”¨ `@ConfigurationProperties`ï¼‰

---

## ğŸš€ ä¸‹ä¸€æ­¥

ğŸ‘‰ [1.4 ç¬¬ä¸€å€‹ Spring Boot æ‡‰ç”¨](./1.4-ç¬¬ä¸€å€‹Spring-Bootæ‡‰ç”¨.md) - å¯¦ä½œå®Œæ•´çš„ä½¿ç”¨è€…ç®¡ç†ç³»çµ±

---

## ğŸ“š åƒè€ƒè³‡æº

**å®˜æ–¹æ–‡ä»¶**:
- [Spring Boot Annotations](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.auto-configuration)
- [Spring Framework Core](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html)
- [Dependency Injection](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-dependencies)

**ç¯„ä¾‹ç¨‹å¼ç¢¼**:
- [å®Œæ•´å°ˆæ¡ˆç¨‹å¼ç¢¼](../../code-examples/chapter1-spring-boot-basics)

---

**ç›¸é—œç« ç¯€**:
- â† ä¸Šä¸€ç« : [1.2 å°ˆæ¡ˆæ¶æ§‹èˆ‡é…ç½®](./1.2-å°ˆæ¡ˆæ¶æ§‹èˆ‡é…ç½®.md)
- â†’ ä¸‹ä¸€ç« : [1.4 ç¬¬ä¸€å€‹ Spring Boot æ‡‰ç”¨](./1.4-ç¬¬ä¸€å€‹Spring-Bootæ‡‰ç”¨.md)
